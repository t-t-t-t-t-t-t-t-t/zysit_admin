import{r as k,e as m,f as r,o as p,g as x,w as a,a as o,c as y,F as N,l as U,h as F,y as q}from"./index-DDjioiAb.js";const R={__name:"UserAdd",setup(B){const _=q(),s=k(),t=m({userName:"",password:"",role:null}),i=m({userName:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"blur"}]}),f=[{value:0,label:"管理员"},{value:1,label:"编辑者"}],c=()=>{s.value.validate().then(u=>{u&&_.addUser(t).then(e=>{s.value&&s.value.resetFields()})}).catch(u=>{console.log(u)})};return(u,e)=>{const d=r("el-input"),n=r("el-form-item"),b=r("el-option"),v=r("el-select"),g=r("el-button"),w=r("el-form"),V=r("el-card");return p(),x(V,null,{default:a(()=>[o(w,{model:t,ref_key:"formRef",ref:s,"label-width":"auto",rules:i,style:{"max-width":"600px"}},{default:a(()=>[o(n,{label:"用户名",prop:"userName"},{default:a(()=>[o(d,{style:{width:"280px"},modelValue:t.userName,"onUpdate:modelValue":e[0]||(e[0]=l=>t.userName=l)},null,8,["modelValue"])]),_:1}),o(n,{label:"密码",prop:"password"},{default:a(()=>[o(d,{style:{width:"280px"},modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=l=>t.password=l)},null,8,["modelValue"])]),_:1}),o(n,{label:"角色",prop:"role"},{default:a(()=>[o(v,{modelValue:t.role,"onUpdate:modelValue":e[2]||(e[2]=l=>t.role=l),placeholder:"选择角色"},{default:a(()=>[(p(),y(N,null,U(f,l=>o(b,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),o(g,{type:"primary",onClick:e[3]||(e[3]=l=>c())},{default:a(()=>e[4]||(e[4]=[F(" 添加角色 ")])),_:1})]),_:1},8,["model","rules"])]),_:1})}}};export{R as default};
